# AIFFEL Campus Online 5th Code Peer Review
- 코더 : 최연석
- 리뷰어 : 김성진


# PRT(PeerReviewTemplate) 
각 항목을 스스로 확인하고 토의하여 작성한 코드에 적용합니다.

- [X] 코드가 정상적으로 동작하고 주어진 문제를 해결했나요?
  > 네, 얼굴을 인식하고, 얼굴 모양에 따라 점을 찍고, 스티커가 코 위치에 출력되었습니다.
- [X] 주석을 보고 작성자의 코드가 이해되었나요?
  > 네, 프로세스의 흐름이 잘 이해되었습니다.
- [X] 코드가 에러를 유발할 가능성이 없나요?
  > 네, try-catch 예외처리까지 되었습니다.
- [X] 코드 작성자가 코드를 제대로 이해하고 작성했나요?
  > 네, 프로세스의 흐름상 잘 이해하고 있다고 판단됩니다.
- [X] 코드가 간결한가요?
  > 네, 각 처리모듈별로 함수화되었으며, 주석, 프로세스 흐름 등 간결합니다.

# 예시
1. 코드의 작동 방식을 주석으로 기록합니다.
2. 코드의 작동 방식에 대한 개선 방법을 주석으로 기록합니다.
3. 참고한 링크 및 ChatGPT 프롬프트 명령어가 있다면 주석으로 남겨주세요.

- 코드 주석
```python
#버전       V_0.01 
#작성자     최연석
#분류       subQ4
#목표1      얼굴 영역과 랜드마크를 정확하게 검출하고, 스티커 사진을 합성시키는 데 성공하였다.
#목표2      정확한 좌표계산을 통해 고양이 수염의 위치가 원본 얼굴에 잘 어울리게 출력되었다.
#목표3      얼굴각도, 이미지 밝기, 촬영거리 등 다양한 변수에 따른 영향도를 보고서에 체계적으로 분석하였다.
#수정사항   write 1st edit(2023.07.12)


import os # 환경 변수나 디렉터리, 파일 등의 OS 자원을 제어할 수 있게 해주는 모듈
import cv2 # OpenCV라이브러리 → 컴퓨터 비전 관련 프로그래밍을 쉽게 할 수 있도록 도와주는 라이브러리
import matplotlib.pyplot as plt # 다양한 데이터를 많은 방법으로 도식화 할 수 있도록 하는 라이브러리
import numpy as np # 다차원 배열을 쉽게 처리하고 효율적으로 사용할 수 있도록 하는 라이브러리
import dlib # 이미지 처리 및 기계 학습, 얼굴인식 등을 할 수 있는 c++ 로 개발된 고성능의 라이브러리 
```

- 기능별로 대부분 함수화 되었음
```python
def print_face_landmarkPoint(list_landmarks, img_face):
    # list_landmarks의 원소가 1개이므로 아래 반복문은 한번만 실행됨
    for landmark in list_landmarks:
        for point in landmark:
            cv2.circle(img_face, point, 10, (0, 255, 255), -1) #표시할 이미지 선택
                # cv2.circle: OpenCV의 원을 그리는 함수
                # img_show 이미지 위 각각의 point에
                # 크기가 10이고 (0, 255, 255)색으로 내부가 채워진(-1) 원을 그림
                # (마지막 인수가 자연수라면 그만큼의 두께의 선으로 원이 그려짐)

```

- 에외 처리
```python
# 1. 이미지 호출
try:
    #img read       
    img_face_origin, img_whiskers_origin = read_file(FILE_PATH, FILE_NAME_FACE, FILE_NAME_WHISKERS)

except:
    print("Error : failed to read image")
```


- 이미지 저장 구현
```python
try:
    #수정된 이미지 저장  
    cv2.imwrite(FILE_PATH + FILE_NAME_EDITFACE, img_face_origin)

except:
    print("Error : failed to img save")
```

- 깔끔한 마무리
```python
print("종료")
```



# 참고 링크 및 코드 개선
```python
# 코드 리뷰 시 참고한 링크가 있다면 링크와 간략한 설명을 첨부합니다.
# 코드 리뷰를 통해 개선한 코드가 있다면 코드와 간략한 설명을 첨부합니다.
```
- 개선점은 없습니다. 
- 다만, 추가적인 작업의 시도 흔적이 있다면 더 좋을 것 같습니다. (다양한 형태의 얼굴 이미지 등)


# 리뷰 소감

- 예외 처리
  - 이미지를 불러올 때 예외 처리가 되어있어 혹시나 불러오지 못했을 경우 바로 알 수 있습니다.
  - 개인적으로 이미지 파일이름이 잘못되어 불러오지 못했는데도 아무런 경고가 없어서 한참을 시간을 썼습니다.
- 함수 처리
  - 여러 이미지 작업을 할 때, 코드를 반복해야해서 시간도 쓰고 수고로웠는데, 번거롭더라도 함수 처리를 좀 해야겠다는 생각이 들었습니다.
- 아쉬운 점: 코더분의 생각을 좀 더 알면 좋겠다는 생각이 들었습니다.
  - 코드 주석이 배포용 코드처럼 간결하고 자세합니다.
  - 다만 코드 리뷰시에는 코더분의 생각이 어떠했는지 기록되어있다면 리뷰어에게 큰 도움이 될 것 같습니다.
- 코드 잘 봤습니다. 감사합니다.